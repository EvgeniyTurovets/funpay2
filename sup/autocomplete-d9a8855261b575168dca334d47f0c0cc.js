(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{"4601c6561497033f0a3f":function(t,e,n){"use strict";n.r(e);var a=n("8613a2facb3a2b838c4c"),i=n.n(a),s=n("500407a0058749d1d795"),l=n.n(s),r=n("c8c4de41a952f93b8bf9"),o=n.n(r),c=n("e3f51e93cbcb086f6c06"),u=n.n(c),d=n("0c598d045a43c846b543"),h=n.n(d),p=n("9466c4bf0b991fb30fa6"),m=n.n(p),b=n("ac984996a79308ebe69c"),f=n.n(b),v=n("dd78d97984a35d590f30"),g=n.n(v),x=n("4f9eb88e2b98053d0224"),w=n.n(x),y=n("aa002c9ecdc30c05062b"),k=n.n(y),z=n("a8f8105d2d40178f277f"),E=n("1495cbcf66b387f322bd"),T=n.n(E),N={x:0,y:0};var O=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.align,i=void 0===a?"auto":a,s=n.reflow,l=void 0===s||s,r=n.push,o=void 0===r?{}:r;try{t.style.width="".concat(e.offsetWidth,"px"),t=t.getBoundingClientRect(),e=e.getBoundingClientRect()}catch(t){throw new Error('Both "target" and "anchor" must be DOM elements')}o=T()(N,o);var c=e.top+e.height+o.y,u={bottom:-1*(window.innerHeight-(c+t.height)),top:-1*(e.top-o.y-t.height)};l&&u.bottom>0&&u.bottom>u.top&&(c=e.top-t.height-o.y);var d,h=e.left>window.innerWidth/2,p=!h;return"left"===i||"auto"===i&&p?d=e.left+o.x:("right"===i||"auto"===i&&h)&&(d=e.right-t.width-o.x),{top:c+window.pageYOffset,left:d+window.pageXOffset,width:e.width}},_=n("eb70c94528d9a523ea12");n.d(e,"default",(function(){return B}));var L=["zh-cn","zh-hk","zh-mo","zh-sg","zh-tw","ko","ja","th"],M=9,D=13,C=27,I=38,A=40,B=function(){function t(e){var n,a,i,s,l,r,o;g()(this,t),this.input=e,this.panel=document.createElement("zd-autocomplete"),this.timer=void 0,this.cache={},this.results=[],this.index=-1,this.input.addEventListener("blur",f()(n=this.onBlur).call(n,this)),this.input.addEventListener("input",f()(a=this.onInput).call(a,this)),this.input.addEventListener("keydown",f()(i=this.onKeydown).call(i,this)),this.panel.addEventListener("mousedown",f()(s=this.onMousedown).call(s,this)),this.panel.addEventListener("mouseover",f()(l=this.onMouseover).call(l,this)),this.panel.addEventListener("touchstart",f()(r=this.onMouseover).call(r,this)),this.panel.addEventListener("touchend",f()(o=this.onMousedown).call(o,this))}var e;return w()(t,[{key:"set",value:function(t){var e=t.index,n=void 0===e?this.index:e,a=t.results,i=void 0===a?this.results:a;this.index=n,this.results=i,this.render()}},{key:"onBlur",value:function(){this.set({results:[],index:-1})}},{key:"onInput",value:function(t){var e=this;this.timer&&clearTimeout(this.timer);var n=t.target.value;this.timer=m()((function(){return e.search(n)}),300)}},{key:"onKeydown",value:function(t){switch(t.keyCode){case D:t.preventDefault(),this.select();break;case C:t.preventDefault(),this.close();break;case I:t.preventDefault(),this.previous();break;case M:this.results.length&&(t.preventDefault(),this.next());break;case A:t.preventDefault(),this.next()}}},{key:"onMousedown",value:function(t){var e,n;"ZD-AUTOCOMPLETE-HEADER"===t.target.tagName&&t.preventDefault(),("ZD-AUTOCOMPLETE-OPTION"===t.target.tagName||"ZD-AUTOCOMPLETE-OPTION"===t.target.parentNode.tagName||h()(e=t.target.tagName).call(e,"MULTIBRAND")||h()(n=t.target.parentNode.tagName).call(n,"MULTIBRAND"))&&this.select()}},{key:"onMouseover",value:function(t){var e;if("ZD-AUTOCOMPLETE-OPTION"===t.target.tagName||h()(e=t.target.tagName).call(e,"MULTIBRAND")){var n=t.target.tabIndex;n!==this.index&&this.set({index:n})}}},{key:"select",value:function(){this.selected?_.a.assign(this.selected.url):this.input.form.submit(),this.set({results:[],index:-1})}},{key:"close",value:function(){this.set({results:[],index:-1})}},{key:"previous",value:function(){var t=this.index-1,e=t<-1?this.results.length-1:t;this.set({index:e})}},{key:"next",value:function(){var t=this.index+1,e=t>this.results.length-1?-1:t;this.set({index:e})}},{key:"search",value:(e=u()(l.a.mark((function t(e){var n,a,i,s,r,c,u,d=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.cache[e],a=function(t){return d.set({results:t,index:-1})},i=z.a.get("current_session.locale"),function(t){return h()(L).call(L,i)&&t.length>=2||t.length>=3}(e)){t.next=7;break}return a([]),t.abrupt("return");case 7:if(!n){t.next=10;break}return a(n),t.abrupt("return");case 10:return t.prev=10,t.next=13,fetch(o()(s="/hc/api/internal/instant_search.json?query=".concat(encodeURIComponent(e),"&locale=")).call(s,i));case 13:if((r=t.sent).ok){t.next=16;break}throw new Error(r.statusText);case 16:return t.next=18,r.json();case 18:c=t.sent,u=c.results,this.cache[e]=u,a(u),t.next=26;break;case 24:t.prev=24,t.t0=t.catch(10);case 26:case"end":return t.stop()}}),t,this,[[10,24]])}))),function(t){return e.apply(this,arguments)})},{key:"render",value:function(){var t,e,n=this;if(this.results.length){var a,s,l,r=z.a.get("show_autocomplete_breadcrumbs");if(this.results[0].multibrand)this.panel.innerHTML=i()(a=this.results).call(a,(function(t,e){var a,i,s,l,r,c,u,d,h,p,m,b,f,v,g;return"Community"===t.parent_title?o()(d=o()(h=o()(p=o()(m=o()(b=o()(f=o()(v=o()(g='<zd-autocomplete-multibrand aria-selected="'.concat(e===n.index,'" tabindex="')).call(g,e,'">\n                    <zd-autocomplete-title-multibrand tabindex="')).call(v,e,'">')).call(f,t.title,'</zd-autocomplete-title-multibrand>\n                    <zd-autocomplete-breadcrumbs-multibrand tabindex="')).call(b,e,'"><zd-community-image-multibrand> \n                        <zd-autocomplete-community-breadcrumbs-multibrand tabindex="')).call(m,e,'">\n                          ')).call(p,t.help_center," > ")).call(h,k()("txt.help_center.views.shared.community.header")," > ")).call(d,t.section_or_topic,"\n                        </zd-autocomplete-community-breadcrumbs-multibrand> \n                    </zd-autocomplete-breadcrumbs-multibrand>\n                  </zd-autocomplete-multibrand>"):o()(a=o()(i=o()(s=o()(l=o()(r=o()(c=o()(u='<zd-autocomplete-multibrand tabindex="'.concat(e,'" aria-selected="')).call(u,e===n.index,'">\n                  <zd-autocomplete-title-multibrand tabindex="')).call(c,e,'">')).call(r,t.title,'</zd-autocomplete-title-multibrand>\n                  <zd-autocomplete-breadcrumbs-multibrand tabindex="')).call(l,e,'">\n                    ')).call(s,t.help_center," > ")).call(i,t.parent_title," > ")).call(a,t.section_or_topic,"\n                  </zd-autocomplete-breadcrumbs-multibrand>\n                </zd-autocomplete-multibrand>")})).join("");else this.panel.innerHTML=o()(s="\n        <zd-autocomplete-header>\n          ".concat(k()("txt.help_center.views.autocomplete.top_article_suggestions"),"\n        </zd-autocomplete-header>\n        ")).call(s,i()(l=this.results).call(l,(function(t,e){var a,i,s;return o()(a=o()(i=o()(s='\n          <zd-autocomplete-option tabindex="'.concat(e,'" aria-selected="')).call(s,e===n.index,'" instant="true">\n            ')).call(i,t.title," ")).call(a,r?"<zd-autocomplete-breadcrumbs> - ".concat(t.category_title,"</zd-autocomplete-breadcrumbs>"):"","\n          </zd-autocomplete-option>")})).join(""),"\n      ");document.body.appendChild(this.panel);var c=O(this.panel,this.input,{push:{y:10}}),u=c.left,d=c.top,h=c.width;this.panel.setAttribute("style",o()(t=o()(e="\n      left: ".concat(u,"px;\n      top: ")).call(e,d,"px;\n      width: ")).call(t,h,"px;\n    "))}else this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel)}},{key:"selected",get:function(){return this.results[this.index]}}]),t}()},eb70c94528d9a523ea12:function(t,e,n){"use strict";e.a={assign:function(t){window.location.assign(t)}}}}]);